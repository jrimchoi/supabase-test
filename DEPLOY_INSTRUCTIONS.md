# ğŸš€ ë°°í¬ ê°€ì´ë“œ

## âœ… ì™„ë£Œëœ ìµœì í™”

1. âœ… searchParams ì œê±° (ëª¨ë“  admin í˜ì´ì§€)
2. âœ… í´ë¼ì´ì–¸íŠ¸ í˜ì´ì§• (Types, BusinessObjects)
3. âœ… Middleware RSC ìš”ì²­ ê±´ë„ˆë›°ê¸°
4. âœ… _count aggregation ì œê±° (Policies)
5. âœ… ISR ìºì‹± í™œì„±í™” (10s/30s/60s)
6. âœ… BusinessObjects limit 200ê°œë¡œ ì œí•œ

---

## ğŸ“¦ ë°°í¬ ë°©ë²•

### 1. Git Push

```bash
cd /Users/jrchoi/Documents/GitHub/supabase-test

# ë³€ê²½ì‚¬í•­ í™•ì¸
git status

# í‘¸ì‹œ (GitHub ì¸ì¦ í•„ìš”)
git push
```

**Git ì¸ì¦ ì—ëŸ¬ ë°œìƒ ì‹œ:**
- GitHub Desktop ì‚¬ìš©
- ë˜ëŠ” PAT (Personal Access Token) ì„¤ì •
- ë˜ëŠ” `gh auth login` (GitHub CLI)

---

### 2. Vercel ë°°í¬ ëŒ€ê¸°

**ìë™ ë°°í¬:**
- Git push í›„ ìë™ìœ¼ë¡œ Vercel ë°°í¬ ì‹œì‘
- ì•½ 2-3ë¶„ ì†Œìš”

**ë°°í¬ í™•ì¸:**
1. https://vercel.com/dashboard ì ‘ì†
2. í”„ë¡œì íŠ¸ í´ë¦­
3. "Building..." â†’ "Ready" í™•ì¸

---

### 3. ë¹Œë“œ ìºì‹œ í´ë¦¬ì–´ (ì¤‘ìš”!)

**ë§Œì•½ ë°°í¬ í›„ì—ë„ ëŠë¦¬ë‹¤ë©´:**

1. Vercel Dashboard â†’ í”„ë¡œì íŠ¸ ì„ íƒ
2. Settings â†’ General
3. í•˜ë‹¨ "Redeploy" ë²„íŠ¼ í´ë¦­
4. â˜‘ï¸ **"Use existing Build Cache" ì²´í¬ í•´ì œ**
5. "Redeploy" í´ë¦­

ì´ë ‡ê²Œ í•˜ë©´ ê¹¨ë—í•œ ë¹Œë“œë¡œ ì¬ë°°í¬ë©ë‹ˆë‹¤!

---

## ğŸ¯ ë°°í¬ í›„ í™•ì¸ ì‚¬í•­

### 1. Network íƒ­ í™•ì¸

**âœ… ì„±ê³µ:**
```
types?_rsc=abc123: 50ms
types?_rsc=abc123: 50ms (ê°™ì€ íŒŒë¼ë¯¸í„°!)
attributes?_rsc=abc123: 50ms
```

**âŒ ì‹¤íŒ¨ (ì—¬ì „íˆ ëŠë¦¼):**
```
types?_rsc=xyz789: 500ms
types?_rsc=abc456: 500ms (ë§¤ë²ˆ ë‹¤ë¦„!)
```

---

### 2. ë¹Œë“œ ë¡œê·¸ í™•ì¸

**Vercel ë¹Œë“œ ë¡œê·¸ì—ì„œ í™•ì¸:**

```
Route (app)                    Size     First Load JS
â”Œ â—‹ /admin/types              xxx kB        xxx kB    âœ… ISR!
â”œ â—‹ /admin/attributes          xxx kB        xxx kB    âœ… ISR!
â”œ â—‹ /admin/policies            xxx kB        xxx kB    âœ… ISR!
â”œ â—‹ /admin/business-objects    xxx kB        xxx kB    âœ… ISR!
â”” â—‹ /admin/permissions         xxx kB        xxx kB    âœ… ISR!

â—‹  (Static)   - ISR ìºì‹± ê°€ëŠ¥ âœ…
â—  (Dynamic)  - ìºì‹œ ì—†ìŒ âŒ
```

**ëª¨ë“  í˜ì´ì§€ê°€ `â—‹`ì´ì–´ì•¼ í•©ë‹ˆë‹¤!**

---

## ğŸ› ë¬¸ì œ í•´ê²°

### ë¬¸ì œ 1: ì—¬ì „íˆ Dynamicìœ¼ë¡œ ë¹Œë“œë¨

**ì¦ìƒ:**
- ë¹Œë“œ ë¡œê·¸ì— `â—` í‘œì‹œ
- ë§¤ë²ˆ ë‹¤ë¥¸ _rsc íŒŒë¼ë¯¸í„°

**í•´ê²°:**
1. í•´ë‹¹ í˜ì´ì§€ì˜ `searchParams` ì‚¬ìš© ì—¬ë¶€ í™•ì¸
2. `export const dynamic = 'force-dynamic'` ì œê±°
3. `export const revalidate = XX` ì¶”ê°€ í™•ì¸

---

### ë¬¸ì œ 2: ì—¬ì „íˆ ëŠë¦¼

**ì¦ìƒ:**
- ê°™ì€ _rsc íŒŒë¼ë¯¸í„°ì¸ë°ë„ 500ms ì´ìƒ
- "ì¸ì¦í™•ì¸ì¤‘" ë©”ì‹œì§€ ë³´ì„

**í•´ê²°:**
1. **Vercel ë¹Œë“œ ìºì‹œ í´ë¦¬ì–´** (ê°€ì¥ ì¤‘ìš”!)
2. Middleware ë³€ê²½ì‚¬í•­ í™•ì¸
3. DB ì¸ë±ìŠ¤ í™•ì¸

---

### ë¬¸ì œ 3: BusinessObjectsë§Œ ëŠë¦¼

**ì¦ìƒ:**
- ë‹¤ë¥¸ í˜ì´ì§€ëŠ” ë¹ ë¥¸ë° BusinessObjectsë§Œ 2ì´ˆ+

**í•´ê²°:**
1. í˜„ì¬ limitì´ 200ê°œë¡œ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤
2. ë°ì´í„°ê°€ ë” ë§ë‹¤ë©´ limitì„ ì¤„ì´ì„¸ìš”:
   ```typescript
   // src/app/admin/business-objects/page.tsx
   take: 100,  // 200 â†’ 100ìœ¼ë¡œ ë³€ê²½
   ```
3. ë˜ëŠ” selectë¥¼ ë” ìµœì†Œí™”í•˜ì„¸ìš”

---

## ğŸ“Š ì˜ˆìƒ ì„±ëŠ¥

### Before (ìµœì í™” ì „):
```
ëª¨ë“  í˜ì´ì§€: 500ms ~ 3.5s
"ì¸ì¦í™•ì¸ì¤‘" 1ì´ˆ+
ë§¤ë²ˆ ë‹¤ë¥¸ _rsc íŒŒë¼ë¯¸í„°
```

### After (ìµœì í™” í›„):
```
ì²« ë°©ë¬¸: 500ms
ì¬ë°©ë¬¸ (ìºì‹œ ì ì¤‘): 50ms âš¡
í˜ì´ì§€ ì „í™˜: ê±°ì˜ ì¦‰ì‹œ
"ì¸ì¦í™•ì¸ì¤‘" ë©”ì‹œì§€ ì—†ìŒ
ë™ì¼í•œ _rsc íŒŒë¼ë¯¸í„° (ìºì‹œ!)

10-70ë°° ë¹ ë¦„! ğŸš€
```

---

## ğŸŠ ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] Git ë³€ê²½ì‚¬í•­ ì»¤ë°‹
- [ ] Git push ì„±ê³µ
- [ ] Vercel ìë™ ë°°í¬ ì‹œì‘
- [ ] Vercel ë°°í¬ ì™„ë£Œ (Ready ìƒíƒœ)
- [ ] **ë¹Œë“œ ìºì‹œ í´ë¦¬ì–´ í›„ ì¬ë°°í¬** (ì¤‘ìš”!)
- [ ] Network íƒ­ì—ì„œ _rsc íŒŒë¼ë¯¸í„° í™•ì¸
- [ ] ë¹Œë“œ ë¡œê·¸ì—ì„œ `â—‹` (Static) í™•ì¸
- [ ] í˜ì´ì§€ ì „í™˜ ì†ë„ ì²´ê°

ëª¨ë“  ì²´í¬ë¦¬ìŠ¤íŠ¸ ì™„ë£Œ ì‹œ ì™„ë²½! ğŸ‰

---

## ğŸš¨ ê¸´ê¸‰: ë¹ ë¥¸ ë°°í¬

**ì§€ê¸ˆ ë‹¹ì¥ ë°°í¬í•˜ë ¤ë©´:**

```bash
# 1. Push
git push

# 2. Vercelì—ì„œ ë¹Œë“œ ìºì‹œ í´ë¦¬ì–´í•˜ê³  ì¬ë°°í¬

# 3. 10ë¶„ ê¸°ë‹¤ë¦¼

# 4. í…ŒìŠ¤íŠ¸!
```

ì™„ë£Œ! ğŸš€


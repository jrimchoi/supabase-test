# ğŸ“„ í˜ì´ì§•(Pagination) ê¸°ëŠ¥ ê°€ì´ë“œ

## âœ… êµ¬í˜„ ì™„ë£Œ

ëª¨ë“  ê´€ë¦¬ í˜ì´ì§€ì— í˜ì´ì§• ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!

---

## ğŸ¯ ì ìš©ëœ í˜ì´ì§€ (9ê°œ)

### 1. **Policy ê´€ë¦¬** (`/admin/policies`)
- í˜ì´ì§€ë‹¹ 20ê°œ í•­ëª©
- Prisma: `skip`, `take` ì‚¬ìš©
- ì´ ê°œìˆ˜: `prisma.policy.count()`

### 2. **Role ê´€ë¦¬** (`/admin/roles`)
- í˜ì´ì§€ë‹¹ 20ê°œ í•­ëª©
- ì‚¬ìš©ì í• ë‹¹ ìˆ˜ í¬í•¨

### 3. **Group ê´€ë¦¬** (`/admin/groups`)
- í˜ì´ì§€ë‹¹ 20ê°œ í•­ëª©
- ê³„ì¸µ êµ¬ì¡° í¬í•¨

### 4. **Type ê´€ë¦¬** (`/admin/types`)
- í˜ì´ì§€ë‹¹ 20ê°œ í•­ëª©
- Policy ì •ë³´ í¬í•¨

### 5. **Attribute ê´€ë¦¬** (`/admin/attributes`)
- í˜ì´ì§€ë‹¹ 20ê°œ í•­ëª©
- TypeAttribute ê´€ê³„ í¬í•¨

### 6. **State ê´€ë¦¬** (`/admin/states`)
- í˜ì´ì§€ë‹¹ 20ê°œ í•­ëª©
- Policyë³„ ì •ë ¬

### 7. **Permission ê´€ë¦¬** (`/admin/permissions`)
- í˜ì´ì§€ë‹¹ 20ê°œ í•­ëª©
- State/Role/Group ì •ë³´ í¬í•¨

### 8. **StateTransition ê´€ë¦¬** (`/admin/transitions`)
- í˜ì´ì§€ë‹¹ 20ê°œ í•­ëª©
- From/To State ì •ë³´ í¬í•¨

### 9. **BusinessObject ê´€ë¦¬** (`/admin/business-objects`)
- í˜ì´ì§€ë‹¹ 20ê°œ í•­ëª©
- Type/Policy ì •ë³´ í¬í•¨

---

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥

### 1. **ì„œë²„ ì‚¬ì´ë“œ í˜ì´ì§•**
```typescript
const skip = (page - 1) * PAGE_SIZE
const [data, total] = await Promise.all([
  prisma.model.findMany({ skip, take: PAGE_SIZE }),
  prisma.model.count()
])
```

### 2. **URL ê¸°ë°˜ í˜ì´ì§€ ì „í™˜**
```
/admin/policies           â†’ 1í˜ì´ì§€
/admin/policies?page=2    â†’ 2í˜ì´ì§€
/admin/policies?page=3    â†’ 3í˜ì´ì§€
```

### 3. **ìë™ í˜ì´ì§€ ë²ˆí˜¸ ìƒì„±**
- ì´ í˜ì´ì§€ 7ê°œ ì´í•˜: ëª¨ë“  ë²ˆí˜¸ í‘œì‹œ
- 8ê°œ ì´ìƒ: í˜„ì¬ í˜ì´ì§€ ì¤‘ì‹¬ìœ¼ë¡œ ì¶•ì•½ í‘œì‹œ
  - ì˜ˆ: `1 ... 5 6 7 ... 20`

### 4. **ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼**
- â—€ ì´ì „ í˜ì´ì§€
- â–¶ ë‹¤ìŒ í˜ì´ì§€
- 1, 2, 3 í˜ì´ì§€ ë²ˆí˜¸ í´ë¦­

---

## ğŸ“Š UI ì»´í¬ë„ŒíŠ¸

### `Pagination` ì»´í¬ë„ŒíŠ¸
ìœ„ì¹˜: `src/components/ui/pagination.tsx`

```typescript
<Pagination
  currentPage={1}
  totalPages={10}
  totalCount={200}
  baseUrl="/admin/policies"
/>
```

### Props
- `currentPage`: í˜„ì¬ í˜ì´ì§€ ë²ˆí˜¸ (1ë¶€í„° ì‹œì‘)
- `totalPages`: ì´ í˜ì´ì§€ ìˆ˜
- `totalCount`: ì´ í•­ëª© ìˆ˜
- `baseUrl`: ê¸°ë³¸ URL ê²½ë¡œ

---

## ğŸ’¾ ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ìµœì í™”

### Before (ëª¨ë“  ë°ì´í„° ë¡œë“œ)
```typescript
const policies = await prisma.policy.findMany() // 1000ê°œ ì „ë¶€ ë¡œë“œ
```

### After (í˜ì´ì§€ë³„ ë°ì´í„°ë§Œ ë¡œë“œ)
```typescript
const policies = await prisma.policy.findMany({
  skip: 0,    // 0ë²ˆì§¸ë¶€í„°
  take: 20    // 20ê°œë§Œ
})
```

**ì„±ëŠ¥ í–¥ìƒ:**
- 1000ê°œ â†’ 20ê°œë§Œ ë¡œë“œ (50ë°° ë¹ ë¦„!)
- ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ ê°ì†Œ
- ë¸Œë¼ìš°ì € ë Œë”ë§ ì†ë„ í–¥ìƒ

---

## ğŸ¨ í˜ì´ì§• UI ì˜ˆì‹œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì´ 245ê°œ í•­ëª©                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[â—€] [1] [2] [3] ... [12] [13] [â–¶]
     â†‘
  í˜„ì¬ í˜ì´ì§€
```

---

## ğŸ“ í…ŒìŠ¤íŠ¸ ë°©ë²•

### 1. ë¡œê·¸ì¸
```
http://localhost:3000/signin
```

### 2. Policy í˜ì´ì§€ ì ‘ì†
```
http://localhost:3000/admin/policies
```

### 3. í˜ì´ì§€ ë²ˆí˜¸ í´ë¦­
- "2" ë²„íŠ¼ í´ë¦­ â†’ `/admin/policies?page=2`
- "3" ë²„íŠ¼ í´ë¦­ â†’ `/admin/policies?page=3`

### 4. ë‹¤ë¥¸ í˜ì´ì§€ë„ í…ŒìŠ¤íŠ¸
- `/admin/roles?page=2`
- `/admin/groups?page=2`
- `/admin/types?page=2`

---

## âš™ï¸ ì„¤ì • ë³€ê²½

### í˜ì´ì§€ë‹¹ í•­ëª© ìˆ˜ ë³€ê²½
ê° í˜ì´ì§€ì˜ `PAGE_SIZE` ìƒìˆ˜ë¥¼ ìˆ˜ì •í•˜ì„¸ìš”:

```typescript
// src/app/admin/policies/page.tsx
const PAGE_SIZE = 20  // 20 â†’ 50ìœ¼ë¡œ ë³€ê²½
```

### í˜ì´ì§• UI ì»¤ìŠ¤í„°ë§ˆì´ì§•
`src/components/ui/pagination.tsx`ë¥¼ ìˆ˜ì •í•˜ì„¸ìš”.

---

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ

- **Next.js 16**: Server Components, searchParams
- **Prisma**: `skip`, `take`, `count()`
- **shadcn/ui**: Button, Pagination UI
- **Lucide Icons**: ChevronLeft, ChevronRight, MoreHorizontal

---

## âœ¨ ì™„ì„±!

**ëª¨ë“  ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ì— í˜ì´ì§•ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!** ğŸ‰

- âœ… ì„œë²„ ì‚¬ì´ë“œ í˜ì´ì§•ìœ¼ë¡œ ë¹ ë¥¸ ë¡œë”©
- âœ… URL ê¸°ë°˜ìœ¼ë¡œ ë¶ë§ˆí¬ ê°€ëŠ¥
- âœ… ì‚¬ìš©ì ì¹œí™”ì ì¸ í˜ì´ì§€ ë²ˆí˜¸ UI
- âœ… ì´ ê°œìˆ˜ í‘œì‹œ

---

## ğŸ“Œ ë‹¤ìŒ ë‹¨ê³„ (ì„ íƒì‚¬í•­)

- [ ] í˜ì´ì§€ë‹¹ í•­ëª© ìˆ˜ ì„ íƒ (10, 20, 50, 100)
- [ ] ê²€ìƒ‰ + í˜ì´ì§• í†µí•©
- [ ] ì •ë ¬ + í˜ì´ì§• í†µí•©
- [ ] ë¬´í•œ ìŠ¤í¬ë¡¤ ì˜µì…˜

